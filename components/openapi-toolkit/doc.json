{"openapi":"3.0.0","info":{"title":"Starter OpenAPI Documentation","version":"1.0.0","description":"Auto-generated documentation for Starter.","contact":{}},"servers":[{"description":"Local prism mock server","url":"http://127.0.0.1:4010/api"},{"description":"Local django server","url":"http://127.0.0.1:8000/api"},{"description":"Staging server","url":"https://django-api-starter.herokuapp.com/api"}],"tags":[{"name":"public","description":"Endpoints for users with public permission"},{"name":"user","description":"Endpoints for users with user permission"},{"name":"admin","description":"Endpoints for users with admin permission"}],"paths":{"/public/user/login":{"post":{"description":"Post login","summary":"Post login","operationId":"create:public:login","tags":["public"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"password":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"email":"Maurine69@yahoo.com","password":"jpXspXIUahDTR1l"}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"userId":{"type":"integer","example":92}}},"examples":{"example1":{"value":{"token":"Earum esse impedit dolor ullam voluptas optio architecto.","userId":179}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/public/user/signup":{"post":{"description":"Post signup","summary":"Post signup","operationId":"create:public:signup","tags":["public"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"password":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"email":"Maurine69@yahoo.com","password":"jpXspXIUahDTR1l"}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"userId":{"type":"integer","example":92}}},"examples":{"example1":{"value":{"token":"Earum esse impedit dolor ullam voluptas optio architecto.","userId":179}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/public/user/forgot-password-step-1":{"post":{"description":"This is part 1 of the forgot-password flow. The request will succeed with a `201` whether there is a user with the provided email or not. This is to prevent malicious use of this endpoint to discover which emails have accounts with this app. If there is a user, an email will be sent to them with a link to reset their password. The link is normally to a frontend page. The frontend will then use the values (token and userId) from the url query params for the second part of this flow, `forgot-password-2`. Note that the query params are provided as a base64 encoded json object under the name `state`. eg: `/some/path?state=eyJoZWxsbyI6IndvcmxkIn0=`. This is done to obfuscate the values being passed. To turn this state string into a json object in javascript, you would do `JSON.parse(atob(\"eyJoZWxsbyI6IndvcmxkIn0=\"))`","summary":"Post forgot-password-step-1","operationId":"create:public:forgot-password-step-1","tags":["public"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"email":"Maurine69@yahoo.com"}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{}},"examples":{"example1":{"value":{}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/public/user/forgot-password-step-2":{"post":{"description":"Set a new password for a user who forgot their existing one. The token and userId can be obtained from the query params that are provided in the link that is emailed to the user after posting to forgot-password-1.","summary":"Post forgot-password-step-2","operationId":"create:public:forgot-password-step-2","tags":["public"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"password":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"userId":{"type":"integer","example":92}}},"examples":{"example1":{"value":{"token":"Earum esse impedit dolor ullam voluptas optio architecto.","password":"jpXspXIUahDTR1l","userId":179}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{}},"examples":{"example1":{"value":{}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/user/change-password":{"post":{"description":"Post change-password","summary":"Post change-password","operationId":"create:user:change-password","tags":["user"],"security":[{"BearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"newPassword":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"password":"jpXspXIUahDTR1l","newPassword":"jpXspXIUahDTR1l"}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{}},"examples":{"example1":{"value":{}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/user/change-email":{"post":{"description":"Post change-email","summary":"Post change-email","operationId":"create:user:change-email","tags":["user"],"security":[{"BearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."},"newEmail":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"password":"jpXspXIUahDTR1l","newEmail":"Maurine69@yahoo.com"}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{}},"examples":{"example1":{"value":{}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/user/my-profile":{"get":{"description":"Get my-profile (detail)","summary":"Get my-profile (detail)","operationId":"get:user:my-profile","tags":["user"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","example":92},"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"id":179,"email":"Maurine69@yahoo.com"}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/admin/users":{"get":{"description":"Get users","summary":"Get users","operationId":"get-list:admin:users","tags":["admin"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"integer","example":92},"previous":{"type":"string","example":"https://loremflickr.com/640/480?lock=1637612685099008"},"next":{"type":"string","example":"https://loremflickr.com/640/480?lock=1637612685099008"},"resources":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","example":92},"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}}}}},"examples":{"example1":{"value":{"count":92,"previous":"https://loremflickr.com/640/480?lock=1637612685099008","next":"https://loremflickr.com/640/480?lock=1637612685099008","resources":[{"id":179,"email":"Maurine69@yahoo.com"},{"id":82,"email":"Katlyn_Reichel@yahoo.com"},{"id":9,"email":"Willa.Paucek@yahoo.com"},{"id":75,"email":"Gladyce.Heathcote43@yahoo.com"},{"id":61,"email":"Deja_Powlowski@yahoo.com"},{"id":68,"email":"Lonny53@gmail.com"},{"id":197,"email":"Mertie84@yahoo.com"},{"id":163,"email":"Jerald_Robel@yahoo.com"},{"id":108,"email":"Hayley.OKeefe@yahoo.com"},{"id":106,"email":"Darrick.Yundt77@yahoo.com"},{"id":126,"email":"Hortense.Keeling@gmail.com"},{"id":111,"email":"Herminio_Hahn@hotmail.com"},{"id":2,"email":"Skye.Welch@yahoo.com"},{"id":24,"email":"Lindsay49@gmail.com"},{"id":97,"email":"Haskell10@hotmail.com"},{"id":157,"email":"Jayme.Yost@gmail.com"},{"id":198,"email":"Lesley_Cartwright60@yahoo.com"},{"id":87,"email":"Easter30@yahoo.com"},{"id":76,"email":"Evalyn_Pollich26@hotmail.com"},{"id":16,"email":"Johnathon_Ortiz@gmail.com"}]}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}},"post":{"description":"Post users","summary":"Post users","operationId":"create:admin:users","tags":["admin"],"security":[{"BearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"email":"Maurine69@yahoo.com"}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","example":92},"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"id":179,"email":"Maurine69@yahoo.com"}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}},"/admin/users/{id}":{"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"get":{"description":"Get users (detail)","summary":"Get users (detail)","operationId":"get:admin:users","tags":["admin"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","example":92},"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"id":179,"email":"Maurine69@yahoo.com"}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}},"patch":{"description":"Patch users","summary":"Patch users","operationId":"update:admin:users","tags":["admin"],"security":[{"BearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"email":"Maurine69@yahoo.com"}}}}}},"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","example":92},"email":{"type":"string","example":"Earum esse impedit dolor ullam voluptas optio architecto."}}},"examples":{"example1":{"value":{"id":179,"email":"Maurine69@yahoo.com"}}}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/NotFoundError"},"500":{"$ref":"#/components/responses/UnexpectedError"}}}}},"components":{"responses":{"NotFoundError":{"description":"The requested resource was not found."},"BadRequestError":{"description":"The request was invalid or could not be understood."},"UnauthorizedError":{"description":"You are not authorized to perform this action."},"UnexpectedError":{"description":"An unexpected error occured."}},"schemas":{},"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"token"}}}}
